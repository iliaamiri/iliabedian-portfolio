import {Note} from '@/components/Markdown/Note';
import Image_CurrentFile from './assets/current-file.png';
import Image_AddNpm from './assets/run-debug-configurations-npm.png';
import Image_AddNodeJs from './assets/select-node.png';
import Image_SelectScript from './assets/run-debug-scripts-dev.png';
import Image_RunMain from './assets/run-main.png';
import Image_BeforeLaunch from './assets/before-launch.png';

Whether to use a debugger or not has probably been one of the most spicy topics of software development. When I
tell some people that why they should use a debugger, they take it as a personal insult.

I don't know why this is. Maybe it's because they think that I'm saying that they are not good enough to write good code
that runs first try.

But anyways, in this article I will show you how to setup your debugger for your TypeScript projects in Webstorm with
*proper images* step-by-step.

## Two different scenarios of setting up your debugger.
1. Your project gets compiled and fully ran by your tooling (e.g. Next.js, T3, etc.)

2. Your project gets compiled and the output is ran on the server-side (e.g. any server-side Node.js project)

## Setting up your debugger for scenario 1
This is the simple one. Just follow these steps:

Select the `Edit Configurations...` option from the drop-down menu next to the play button.
<img src={Image_CurrentFile.src} width={250} height={100} alt="Current File drop-down menu on Webstorm" />

Click on the `+` button, find, and select `npm`.

<img src={Image_AddNpm.src} width={250} height={100} alt="Add NPM configuration on Webstorm" />

Then make sure the `package.json` field is correctly pointing to your `package.json` file, and in the `Scripts` field, select the script
you want to run. In this case, I'm selecting the `dev` script (stands for development, surprisingly).

<img src={Image_SelectScript.src} width={9999} height={400} alt="Select script on Webstorm" />

Then click `OK` and you're done! Now hit the play button and you're good to go! Don't forget to set breakpoints ü§ó

## Setting up your debugger for scenario 2
For this one, you need to do a little bit more work. But don't worry, it's not that hard. It goes similar to the previous
scenario, but instead of selecting `dev`, you need to select `build` to build your project. This will compile your TypeScript code
to JavaScript code.

Then you need to create another configuration, but this time, select `Node.js`.

<Note type={"warning"}>
Before trying to point to the JavaScript file, make sure you have compiled your TypeScript code to JavaScript code at least once.
If you don't do this, WebStorm will not be able to find your compiled JavaScript file as it does not exist in your file system!
</Note>

<img src={Image_AddNodeJs.src} width={250} height={100} alt="Add Node.js configuration on Webstorm" />

Then make sure the `JavaScript file` field is correctly pointing to your compiled JavaScript file. In this case, I'm selecting the `main.js` file.
Also, make sure the working directory is correctly pointing to the `dist` or output folder of your project.

<Note type={"warning"}>
Make sure you have set your environment in the `Environment variables` field. WebStorm debugger will not read your `.env` file!
</Note>

<img src={Image_RunMain.src} width={9999} height={400} alt="Setup your Node.js debugger" />

Now, you're almost done. So far, you have directed WebStorm to run your compiled JavaScript file. But you also want to run your
build command in order to produce those compiled JavaScript files. So, you need to add a `Before launch` configuration.

For that, click the `+` button, and select `Run another configuration` if you already setup the `npm` configuration that runs the build
script. Or, you can select `npm` and setup the build script there from scratch.

<img src={Image_BeforeLaunch.src} width={300} height={400} alt="Add before launch configuration" />

Now, you're done! Hit the play button and you're good to go! Again, don't forget to set breakpoints ü§ó

I'm planning to make another blog showcasing how to use the debugger and how to debug your code. So, stay tuned for that!

edit: That blog is now live. You can read it [here](/blog/when-and-how-to-leverage-a-debugger).

If you have any questions, feel free to reach out to me via twitter, or email. I'm always happy to help! ‚ù£Ô∏è
